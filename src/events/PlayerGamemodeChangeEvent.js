/**
 * ░██████╗░██████╗░███████╗███████╗███╗░░██╗███████╗██████╗░░█████╗░░██████╗░
 * ██╔════╝░██╔══██╗██╔════╝██╔════╝████╗░██║██╔════╝██╔══██╗██╔══██╗██╔════╝░
 * ██║░░██╗░██████╔╝█████╗░░█████╗░░██╔██╗██║█████╗░░██████╔╝██║░░██║██║░░██╗░
 * ██║░░╚██╗██╔══██╗██╔══╝░░██╔══╝░░██║╚████║██╔══╝░░██╔══██╗██║░░██║██║░░╚██╗
 * ╚██████╔╝██║░░██║███████╗███████╗██║░╚███║██║░░░░░██║░░██║╚█████╔╝╚██████╔╝
 * ░╚═════╝░╚═╝░░╚═╝╚══════╝╚══════╝╚═╝░░╚══╝╚═╝░░░░░╚═╝░░╚═╝░╚════╝░░╚═════╝░
 *
 *
 * Copyright 2023 andriycraft
 * Github: https://github.com/andriycraft/GreenFrogMCBE
 */
/* eslint-disable no-unused-vars */
const Event = require("./Event");

class PlayerGamemodeChangeEvent extends Event {
	constructor() {
		super();
		this.cancelled = false;
		this.name = "PlayerGamemodeChangeEvent";
		this.server = null;
		this.player = null;
		this.gamemode = null;
		this.oldGamemode = null;
	}

	cancel() {
		this.cancelled = true;
	}

	async execute() {
		await this._execute();

		if (this.cancelled) {
			return;
		}

		this.player.gamemode = this.gamemode;

		const playerGamemode = new PlayerGamemodeChangeEvent();
		playerGamemode.setGamemode(this.gamemode);
		playerGamemode.writePacket(this.player);
	}
}

module.exports = PlayerGamemodeChangeEvent;
